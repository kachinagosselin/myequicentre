

<!-- This is where we edit settings for user. -->
<div class="white-background">
<h2>Edit <%= resource_name.to_s.humanize %> Account Details</h2>

<%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class => 'form-vertical' }) do |f| %>
  <%= f.error_notification %>
  
  <p><b>Basic Account Details</b></p>
  <%= f.input :first_name, :autofocus => true %> 
  <%= f.input :last_name, :autofocus => true %> 
  <%= f.input :email, :required => true %>
  <%= f.label :bio, :label => "Tell us a bit about yourself:" %>
  <%= f.text_area :bio, :cols => 10, :rows => 10 %>
  <%= f.input :avatar%>

<!--
  <p><b>Billing Information</b><p>
  <% customer = Customer.where(:user_id => current_user.id).first %>
  <% if customer.present? %>
  <p>You have input a credit card. The last four digits are: <%= customer.last_4_digits %></p>
  <p><a data-toggle="modal" href="#update-card" class="btn btn-mini" type="button">Change Card</a>
        <%= render 'users/update_card_popup'%></p> 
  <% else %>
  <p>You have not added a credit card.</p>
  
    <p><a data-toggle="modal" href="#add-card" class="btn btn-mini" type="button">Add Card</a>
    <%= render 'users/add_card_popup'%></p> 
  <% end %>
-->
  
  <p><b>Contact Information</b></p>
  <%= f.input :address %>
  <%= f.input :city %>
  <%= f.input :state, :as => :select, :collection => ["AL","AK","AZ","AR","CA","CO","CT",
  "DE","FL","GA","HI","ID","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN",
  "MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC",
  "SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]%>
  <%= label_tag(:website, "Website") %>
  <%= f.text_field :website %>
  <%= f.label(:phone_number, "Phone Number") %>
  <%= f.text_field :phone_number %>
  <p>Format for phone number is xxx-xxx-xxxx</p>
  <%= f.input :join_mailing_list, :as => :boolean %>

  <p><b>Change Your Password</b></p>
  <%= f.input :password, :autocomplete => "off", :required => false %>
  <%= f.input :password_confirmation, :required => false %>

  <p><a data-toggle="modal" href="#enter-password" class="btn btn-primary" type="button">Confirm Update</a>
    <div id="enter-password" class="modal" style="display: none;">
        <div class="modal-header"><a class="close" data-dismiss="modal">&#215;</a>
        <h2>Confirm Password</h2>
        </div>

        <div class="modal-body">    
        <p><b>Enter your current password to confirm changes</b></p>
        <%= f.input :current_password, :required => true %>
        </div>
  
        <div class="modal-footer">
        <div class="actions">
        <a class="btn" data-dismiss="modal" href="#">Cancel</a>
        <%= f.button :submit, 'Confirm', :class => 'btn-primary' %>
        </div>
        </div>
    </div>
<% end %>

<p><b>Cancel my account</b></p>
<p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete %>.</p>
<%= link_to "Back", :back %>

</div>